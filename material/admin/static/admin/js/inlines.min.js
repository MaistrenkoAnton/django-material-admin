function initInlineTabularSelect(){$(".form-row:not(.empty-form) select").formSelect()}function initInlineStackedSelect(){$(".inline-group .inline-related:not(.empty-form) select").formSelect()}function initTextareaInline(){$(".vLargeTextField").addClass("materialize-textarea")}!function(c,n,i,e){"use strict";var p=null;c.fn.formset=function(e){function s(e,t,a){var n=new RegExp("("+t+"-(\\d+|__prefix__))"),i=t+"-"+a;c(e).prop("for")&&c(e).prop("for",c(e).prop("for").replace(n,i)),e.id&&(e.id=e.id.replace(n,i)),e.name&&(e.name=e.name.replace(n,i))}var r=c.extend({},c.fn.formset.defaults,e),t=c(this),a=t.parent(),n=c("#id_"+r.prefix+"-TOTAL_FORMS").prop("autocomplete","off"),d=parseInt(n.val(),10),o=c("#id_"+r.prefix+"-MAX_NUM_FORMS").prop("autocomplete","off"),i=""===o.val()||0<o.val()-n.val();if(t.each(function(e){c(this).not("."+r.emptyCssClass).addClass(r.formCssClass)}),t.length&&i){var f=r.addButton;if(null===f)if("TR"===t.prop("tagName")){var l=this.eq(-1).children().length;a.append('<tr class="'+r.addCssClass+'"><td colspan="'+l+'"><a href="#" class="add-inline-link"><i class="material-icons">add</i>'+r.addText+"</a></tr>"),f=a.find("tr:last a")}else t.parent().after('<div><a href="#" class="add-inline-link"><i class="material-icons">add</i><span>'+r.addText+"</span></a></div>"),f=t.parent().next().find("a");f.on("click",function(e){e.preventDefault();var t=c("#"+r.prefix+"-empty"),l=t.clone(!0);l.removeClass(r.emptyCssClass).addClass(r.formCssClass).attr("id",r.prefix+"-"+d),l.is("tr")?l.children(":last").append('<div><a class="'+r.deleteCssClass+'" href="#">'+r.deleteText+"</a></div>"):l.is("ul")||l.is("ol")?l.append('<li><a class="'+r.deleteCssClass+'" href="#">'+r.deleteText+"</a></li>"):l.children(":first").append('<span><a class="'+r.deleteCssClass+'" href="#">'+r.deleteText+"</a></span>"),l.find("*").each(function(){s(this,r.prefix,n.val())}),l.insertBefore(c(t)),c(n).val(parseInt(n.val(),10)+1),d+=1,""!==o.val()&&o.val()-n.val()<=0&&f.parent().hide(),l.find("a."+r.deleteCssClass).on("click",function(e){e.preventDefault(),l.remove(),--d,r.removed&&r.removed(l),c(document).trigger("formset:removed",[l,r.prefix]);var t,a,n=c("."+r.formCssClass);c("#id_"+r.prefix+"-TOTAL_FORMS").val(n.length),(""===o.val()||0<o.val()-n.length)&&f.parent().show();function i(){s(this,r.prefix,t)}for(t=0,a=n.length;t<a;t++)s(c(n).get(t),r.prefix,t),c(n.get(t)).find("*").each(i)}),r.added&&r.added(l),c(document).trigger("formset:added",[l,r.prefix]),p()})}return this},c.fn.formset.defaults={prefix:"form",addText:"add another",deleteText:"remove",addCssClass:"add-row",deleteCssClass:"delete-row",emptyCssClass:"empty-row",formCssClass:"dynamic-form",added:null,removed:null,addButton:null},c.fn.tabularFormset=function(t,e){function a(e){c(t).not(".add-row").removeClass("row1 row2").filter(":even").addClass("row1").end().filter(":odd").addClass("row2")}var n=c(this);return n.formset({prefix:e.prefix,addText:e.addText,formCssClass:"dynamic-"+e.prefix,deleteCssClass:"inline-deletelink",deleteText:e.deleteText,emptyCssClass:"empty-form",removed:a,added:function(e){var n;(n=e).find(".prepopulated_field").each(function(){var e=c(this).find("input, select, textarea"),t=e.data("dependency_list")||[],a=[];c.each(t,function(e,t){a.push("#"+n.find(".field-"+t).find("input, select, textarea").attr("id"))}),a.length&&e.prepopulate(a,e.attr("maxlength"))}),"undefined"!=typeof DateTimeShortcuts&&(c(".datetimeshortcuts").remove(),DateTimeShortcuts.init()),"undefined"!=typeof SelectFilter&&(c(".selectfilter").each(function(e,t){var a=t.name.split("-");SelectFilter.init(t.id,a[a.length-1],!1)}),c(".selectfilterstacked").each(function(e,t){var a=t.name.split("-");SelectFilter.init(t.id,a[a.length-1],!0)})),a()},addButton:e.addButton}),n},c.fn.stackedFormset=function(t,e){function a(e){c(t).find(".inline_label").each(function(e){var t=e+1;c(this).html(c(this).html().replace(/(#\d+)/g,"#"+t))})}var n=c(this);return n.formset({prefix:e.prefix,addText:e.addText,formCssClass:"dynamic-"+e.prefix,deleteCssClass:"inline-deletelink",deleteText:e.deleteText,emptyCssClass:"empty-form",removed:a,added:function(e){var n;(n=e).find(".prepopulated_field").each(function(){var e=c(this).find("input, select, textarea"),t=e.data("dependency_list")||[],a=[];c.each(t,function(e,t){a.push("#"+n.find(".form-row .field-"+t).find("input, select, textarea").attr("id"))}),a.length&&e.prepopulate(a,e.attr("maxlength"))}),"undefined"!=typeof DateTimeShortcuts&&(c(".datetimeshortcuts").remove(),DateTimeShortcuts.init()),"undefined"!=typeof SelectFilter&&(c(".selectfilter").each(function(e,t){var a=t.name.split("-");SelectFilter.init(t.id,a[a.length-1],!1)}),c(".selectfilterstacked").each(function(e,t){var a=t.name.split("-");SelectFilter.init(t.id,a[a.length-1],!0)})),a()},addButton:e.addButton}),n},c(document).ready(function(){c(".js-inline-admin-formset").each(function(){var e,t=c(this).data(),a=t.inlineFormset;switch(t.inlineType){case"stacked":p=i,e=a.name+"-group .inline-related",c(e).stackedFormset(e,a.options);break;case"tabular":p=n,e=a.name+"-group .tabular.inline-related tbody:first > tr",c(e).tabularFormset(e,a.options)}}),e(),c(".stacked-inline-close").on("click",function(){var e=c(this).parent(),t=e.find(".vCheckboxLabel");t.length?(t.click(),e.hide()):e.remove()})})}(django.jQuery,initInlineTabularSelect,initInlineStackedSelect,initTextareaInline);
